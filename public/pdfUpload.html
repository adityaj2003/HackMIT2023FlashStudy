<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
  <title>Study Flash</title>
  <style>
    .container {
      display: flex;
      flex-direction: row;
      position: relative;
    }
    .embed-container {
      width: 60%;
      text-align: center;
    }
    embed {
      width: 100%;
      height: 600px;
    }
    .dropdown-container {
      position: absolute;
      top: 0;
      left: 63%;
      z-index: 1;
    }
    .chatbot-container {
  position: absolute;
  bottom: 0;
  right: 0;
  z-index: 1;
}
  </style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts Link For Icons -->
  <link rel="stylesheet" href="chatbot.css">
  <script src="script.js" defer></script>
  <script src="chatbot.js" defer></script>
  <script src="js.js" defer></script>
</head>
<body>
    <div class="banner">
        <h1>Study-Flash</h1>
    </div>

    
    <div class="wrapper">
        <!-- Dropdown Menu -->
        <div class="dropdown-container">
            <select id="summaryType">
                <option value="chatgpt">ChatGPT Summarizer</option>
                <option value="youtube">YouTube Videos</option>
            </select>
        </div>

        <!-- Main Content: PDF Viewer and Chatbot -->
        <div class="main-content">
            <!-- PDF Viewer -->
            <div class="pdf-viewer">
                <form id="upload-form" class="upload-form" enctype="multipart/form-data">
                    <input type="file" name="pdf" id="pdf-file">
                    <button id="upload-button" type="submit">Upload PDF</button>
                </form>
                <embed id="pdf-viewer" type="application/pdf">
            </div>

            <!-- Chatbot -->
            <div id="chatbot-container" class="chatbox">
                <div class="chatbox-header">
                    <span>ChatGPT</span>
                </div>
                <div class="chats" id="chats"></div>
                <div class="chat-input">
                    <textarea id="user-input" placeholder="Type a message..." rows="1"></textarea>
                    <span id="send-btn">Send</span>
                </div>
            </div>
            <div id="search-container" class="search">
                <div class="search-bar">
                    <input type="text" id="search-query" placeholder="Search">
                    <button onclick="search()">Search</button>
                </div>
                <div class="gcse-searchresults-only"></div>
                <div id="results" class="results"></div>
            </div>
            
        </div>
    </div>
    <div class="bcs-search">
    <script async src="https://cse.google.com/cse.js?cx=45d7e6f90053748d9">
    </script>
    </div>
    <div class="gcse-search"></div>
    <script>
        const uploadButton = document.getElementById('upload-button');
  const pdfUploadForm = document.getElementById('upload-form');
  
  uploadButton.addEventListener('click', function() {
    pdfUploadForm.style.display = 'none'; // Hide the form
  });
        document.addEventListener('DOMContentLoaded', function() {
    const summaryType = document.getElementById('summaryType');
    const chatbotContainer = document.getElementById('chatbot-container');
    const searchContainer = document.getElementById('search-container');

    // Hide search by default
    searchContainer.style.display = 'none';

    summaryType.addEventListener('change', function() {
        if (this.value === 'chatgpt') {
            chatbotContainer.style.display = 'block';
            searchContainer.style.display = 'none';
        } else {
            chatbotContainer.style.display = 'none';
            searchContainer.style.display = 'block';
        }
    });
});
        window.watsonAssistantChatOptions = {
          integrationID: "14e4a120-70c3-414b-92a6-61468a8d2a04", // The ID of this integration.
          region: "us-east", // The region your integration is hosted in.
          serviceInstanceID: "b32f367d-fc27-4743-9f6a-61af2bd5596b", // The ID of your service instance.
          onLoad: function(instance) { instance.render(); }
        };
        setTimeout(function(){
          const t=document.createElement('script');
          t.src="https://web-chat.global.assistant.watson.appdomain.cloud/versions/" + (window.watsonAssistantChatOptions.clientVersion || 'latest') + "/WatsonAssistantChatEntry.js";
          document.head.appendChild(t);
        });
    </script>
</body>
</html>
